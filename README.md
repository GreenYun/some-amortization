對分期產品的一些思考
====================

臨近歲末，很多銀行都在密鑼緊鼓地向客戶推銷其分期產品，包括但不限於現金借出或信用加額。在大眾對資金有需求的環境下，思考這種無需申請貸款抵押、無需審批並即時放款的分期產品的方方面面。

以下將會舉例某銀行推廣中的某種分期產品的設計和計算方法：

產品設計
--------

1. 資金即時到帳，不論使用與否，利息自動開始產生。
2. 客戶在使用該產品時能夠看到當前提供的日利率和推算年化利率，日利率在0～0.05%之間。
3. 開通產品服務時，銀行有介紹「等額本息」還款方法，然而通常推廣職員或者一般的客服座席也無法給出明確的計算理論，描述非常籠統。
4. 在客戶通常不會認真閱讀、或者因為缺乏金融知識而無法完全理解的細則中有說明利息的計算方法。以下給出其計算公式。
   1. 月利率(`i(m)`)=年化利率(`i(a)`)÷12=日利率(`i`)×365÷12
   2. 每期實際應還金額(不含最后一期)(`I(j)`, `j<n`)=四捨五入至兩位小數(每期計算應還金額)
   3. 最後一期實際應還金額(`I(n)`)=四捨五入至兩位小數(每期計算應還金額×`n`-每期實際應還金額×(`n`-1))
   4. 每期計算應還金額(EMI)=分期總本金總數(`P`)×`i_m`×(1+`i_m`)^`n`÷((1+`i_m`)^`n`-1)
5. 提前還款除歸還所有未還部份本金外，還需要繳納罰款；罰款金額為(i)所有未還部份本金的3%，或(ii)剩餘未產生賬單的利息總和，取兩者之較小值。

數學
----

如果沒有接觸過金融相關的數學，可能會對上面第4條的描述感到複雜繁瑣。下面將會做一些解釋。

該產品是按照月利率對每期應還款項作等額本息計算。首先我們討論月利率的計算：它並非由日利率乘30日（或月度實際日子）算出，而是由全年利率平均分12個月得到。而在面對客戶的產品介紹文本或人工推銷過程卻從不提及月利率一詞。

等額本息是一種在借貸中常見的還款方式約定，對於借款人，它可以讓每期還款數更加固定，因而更容易制定還款計畫。相比「等額本金」這種每期清還同樣數量的欠款加上當月利息，等額本息是每期清還一定的本金和當月利息，使得每期還款總數一致。假設借款本金為`P`，還款期數`n`，第`j`期還款後的剩餘未償還本金為`B(j)`，月利率為`i`，等額本息計算的每期還款為`I`，那麼下面等式成立：

```
  B(0)=P
  B(1)=(1+i)×P-I
  B(2)=(1+i)×B(1)-I=(1+i)^2×P-(1+i)^1×I-(1+i)^0×I
  B(j)=(1+i)×B(j-1)-I=(1+i)^j×P-((1+i)^j-1)÷i×I
```

`B(j)`的最後一項由等比數列求和公式推導。

為解出方程中的`I`，我們還需要一個條件：`B(n)=0`

因此，我們可以計算得到`I=PMT(i,n,P)=P×i×(1+i)^n÷((1+i)^n-1)`，`PMT`是Microsoft Excel提供的一個函式，可以直接使用。
  
我們現在知道了每期還款額，只要從中減去當期利息，即為當期償還的本金部份。當期利息`t(j)=i×B(j-1)`。

由於可支付的金額最小為1分，所以對零頭實行四捨五入，捨入誤差導致本金償還未足額的，於最後一期還款時填補。因此上面的介紹就分列前期還款額及最後一期還款額的計算方法。

款項一覽
--------

我們把這個產品的計算方法加入到Microsoft Excel中以查看還款計畫中各款項的明細。Excel文檔請查看[Amortization Calculation.xlsx](https://github.com/GreenYun/some-amortization/files/13667949/Amortization.Calculation.xlsx)。

<img width="622" alt="image" src="https://github.com/GreenYun/some-amortization/assets/26381267/f5634414-bcc3-4f64-806b-a8de4280219f">

我們在文檔中的黃色方格中填入本金、分期期數以及日利率，即可獲得每期還款計畫。「分期帳額」即是等額本息的每期款項，「還款額」是本金的償還金額，「分期利息」是過去一期內產生的利息，而「累計付息」即是已支付的利息總數。

在還款計畫中我們知道，還款初期主要是在向銀行支付利息；隨著本金的清還，利息也逐漸減少，這時才有在真正向銀行「還款」。如果是10000元的借款，分24期償還，日利率0.05%，兩年後總計利息是$2010.80。我們仔細看，在兩年中，頭8個月已經向銀行支付了過半的利息；還款12期後銀行已經有7成利息到手。

當然，所謂「食得鹹魚抵得渴」，銀行也不是沒有提前告知客戶利息相關的資訊，一旦問銀行借錢，就要做好付利息心理準備。但是我們還要討論一下提前還款的問題。

提前還款要付的罰款，其實各個產品都有不同的規定，形式也是五花八門。總體上，銀行很清楚有分期需求的客戶，前期必定無法全額償還債務，因此在前期多收利息至為重要。如果是兩年還款期，那麼很可能客戶在一年後已經有能力支付所有餘下款項，當然會選擇提前結束債務關係。但是對於客戶而言，就會有一個疑問：究竟是罰款比較多，還是剩餘各期要支付的利息比較多。

如果清楚等額本息理論的朋友，可能這時候就會想到：與其支付更多的罰款，不如還是按計畫償還債務並支付餘下的利息。根據還款計畫，餘下各期支息相比每期還款額而言基本上是零頭。銀行也知道這個事實，所以提出了「**如果罰款數比餘下各期應付利息總和要小，那麼只要支付剩餘之利息總和即可**」。這句話的誘惑正是針對這些精打細算的朋友：*既然是取較小數作為罰款，那麼提前結清和繼續分期並無兩樣，分期還款還可以減輕目前的財政負擔，也未嘗不可。*

為了討論這個事實，在Excel文檔中我們計算了「提前結清罰款」。事實證明，只要剩餘還款期多於2期，提前還款的罰款仍然比剩餘利息較小。當然，這個計算只是針對本文提到過的該種產品計算方法而得出的結論，對於其他產品，仍需要按照實際計算方法來檢驗。不過這也再次給我們提醒：**不要輕信銀行推銷過程的「好處」。**

最後
----

了解等額本息的前因後果之後，日後不論是再次嘗試分期產品，或是申請貸款置業，甚至抵押按揭等，都應該心裏有把尺：如何在償還能力的範圍內，爭取自己的最大利益。網上很多機構也提供了「還款計算器」給大眾作為參考，但是多數人都是糊哩糊塗，過目即忘；加上放債人常常巧立名目，推銷措辭花樣百出。不過，若是正規機構，其實也不敢亂來，正所謂萬變不離其宗，只要一分一毫計清楚，還是有機會保障到自己。

詞彙
----

* 分期 - amortization
* 分期還款額 - installment
* 等額本息 - equated monthly installment (EMI)
* 本金 - principal
* 日利率 - daily periodic rate
* 年化利率 - annual percentage rate (APR)
